(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{247:function(n,e,t){"use strict";e.a={loaiSanPham:[{id:10,name:"\u0110\u1ed3 v\u1ea3i",label:"DO_VAI"},{id:20,name:"D\u1ee5ng c\u1ee5 y t\u1ebf",label:"DUNG_CU_Y_TE"}],listStatus:[{id:10,name:"Ch\u01b0a th\u1ef1c hi\u1ec7n",label:"CHUA_THUC_HIEN"},{id:20,name:"\u0110ang th\u1ef1c hi\u1ec7n",label:"DANG_THUC_HIEN"},{id:30,name:"Ho\xe0n th\xe0nh",label:"HOAN_THAN"}],listTreatmentResult:[{id:1,name:"\u0110\u1ee1, gi\u1ea3m",label:"DO_GIAM"},{id:2,name:"Kh\u1ecfi b\u1ec7nh",label:"KHOI_BENH"},{id:3,name:"N\u1eb7ng h\u01a1n",label:"NANG_HON"},{id:4,name:"Kh\xf4ng thay \u0111\u1ed5i",label:"KHONG_THAY_DOI"},{id:5,name:"Ti\xean l\u01b0\u1ee3ng t\u1eed vong xin v\u1ec1",label:"TIEN_LUONG_TU_VONG"},{id:6,name:"T\u1eed vong",label:"TU_VONG"}],listGender:[{id:2,name:"N\u1eef",label:"FEMALE"},{id:1,name:"Nam",label:"MALE"}],listTrangThai:[{id:10,name:"Ch\u01b0a x\u1eed l\xfd",label:"CHUA_XU_LY"},{id:20,name:"\u0110\xe3 thanh tr\xf9ng",label:"DA_THANH_TRUNG"},{id:30,name:"\u0110\xe3 xu\u1ea5t",label:"DA_XUAT"}],listTrangThaiDungCu:[{id:10,name:"Ch\u1edd duy\u1ec7t",label:"CHO_DUYET"},{id:20,name:"Ch\u1edd ti\u1ec7t khu\u1ea9n",label:"CHO_TIET_KHUAN"},{id:30,name:"\u0110\xe3 ti\u1ec7t khu\u1ea9n",label:"DA_TIET_KHUAN"},{id:40,name:"\u0110\xe3 xu\u1ea5t",label:"DA_XUAT"},{id:50,name:"Qu\xe1 h\u1ea1n",label:"QUA_HAN"}],listChuyenTrangThaiDungCu:[{id:20,name:"Ch\u1edd ti\u1ec7t khu\u1ea9n",label:"CHO_TIET_KHUAN"},{id:30,name:"\u0110\xe3 ti\u1ec7t khu\u1ea9n",label:"DA_TIET_KHUAN"},{id:40,name:"\u0110\xe3 xu\u1ea5t",label:"DA_XUAT"}],typeUsers:[{id:1,name:"Super Admin",label:"super_admin"},{id:2,name:"Admin Qu\u1ea3n L\xfd Nhi\u1ec5m Khu\u1ea9n",label:"admin_ql_nhiem_khuan"},{id:3,name:"User Qu\u1ea3n L\xfd Nhi\u1ec5m Khu\u1ea9n",label:"user_ql_nhiem_khuan"},{id:4,name:"Admin Qu\u1ea3n L\xfd M\xf4i Tr\u01b0\u1eddng",label:"admin_ql_moi_truong"},{id:5,name:"User Qu\u1ea3n L\xfd M\xf4i Tr\u01b0\u1eddng",label:"user_ql_moi_truong"},{id:6,name:"User kh\xe1c",label:"user_khac"}],giaiDoanSuCo:[{id:1,name:"Nguy c\u01a1",label:"nguy_co"},{id:2,name:"Ph\xe1t tri\u1ec3n",label:"phat_trien"},{id:3,name:"S\u1ef1 c\u1ed1",label:"su_co"}]}},404:function(n,e,t){"use strict";t.d(e,"a",function(){return c});var a=t(0),i=t.n(a);t(405);function c(n){var e=n.title,t=n.value,a=n.width,c=n.table,o=n.style;return i.a.createElement("div",{className:"search-type search-type-disabled"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-"+a},i.a.createElement("span",{className:"title-search-input"},e)),i.a.createElement("div",{className:"col-md-"+(12-a),style:o},c?t:i.a.createElement("div",{className:"title-input-disabled"},t))))}},405:function(n,e,t){},419:function(n,e,t){"use strict";var a=t(44),i=t(6),c=t(8),o=t.n(c),l={getById:function(n){var e=o.a.api.categoryIncidents+"/"+n;return i.a.requestApi("get",e,{})},search:function(n,e,t,a){var c=o.a.api.categoryIncidents+"?sort=createdAt,desc";return c+="&page="+(0===n?0:n?n-1:0),c+="&size="+(e||10),t&&(c+="&incidentCode="+t),a&&(c+="&incidentType="+a),i.a.requestApi("get",c,{})},delete:function(n){var e=o.a.api.categoryIncidents+"/"+n;return i.a.requestApi("delete",e,{})},createOrEdit:function(n,e,t){if(n){var a=o.a.api.categoryIncidents+"/"+n;return i.a.requestApi("put",a,{incidentCode:e,incidentType:t})}var c=o.a.api.categoryIncidents;return i.a.requestApi("post",c,{incidentCode:e,incidentType:t})}},r=t(43),d=(t(20),t(624).a.confirm);function s(n){return function(e){e({type:"CATEGORY-INCIDENTS-UPDATE-DATA",data:n})}}function u(n){return function(e,t){e(s({page:n}));var a=t().categoryIncidents.size||10,i=t().categoryIncidents.searchIncidentCode,c=t().categoryIncidents.searchIncidentType,o=t().categoryIncidents.sort||{},r=t().categoryIncidents.searchActive;l.search(n,a,i,c,r,void 0,o).then(function(n){n&&0===n.code&&e(s({total:n.totalElements||a,data:n.data||[]}))})}}e.a={createOrEdit:function(){return function(n,e){return new Promise(function(t,a){var i=e().categoryIncidents.id,c=e().categoryIncidents.incidentCode,o=e().categoryIncidents.incidentType;l.createOrEdit(i,c,o).then(function(e){0==e.code?(i?r.a.show("C\u1eadp nh\u1eadt danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 th\xe0nh c\xf4ng","success"):r.a.show("Th\xeam danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 th\xe0nh c\xf4ng","success"),n(u(0)),t(e.data)):(i?r.a.show(e.message||"S\u1eeda danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 kh\xf4ng th\xe0nh c\xf4ng","danger"):r.a.show(e.message||"Th\xeam danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 kh\xf4ng th\xe0nh c\xf4ng","danger"),a())}).catch(function(n){r.a.show("Th\xeam danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 kh\xf4ng th\xe0nh c\xf4ng","danger"),a()})})}},updateData:s,gotoPage:u,onSearch:function(n,e){return function(n,e){var t=e().categoryIncidents.searchIncidentCode,a=e().categoryIncidents.searchIncidentType;void 0===t&&void 0===a||n(s({searchIncidentCode:t,searchIncidentType:a})),n(u(0))}},onSizeChange:function(n){return function(e,t){e(s({size:n})),e(u(0))}},onDeleteItem:function(n){return function(e,t){return new Promise(function(i,c){d({title:"X\xe1c nh\u1eadn",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 ".concat(n.incidentType,"?"),okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onOk:function(){l.delete(n.id).then(function(n){if(0==n.code){r.a.show("X\xf3a danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 th\xe0nh c\xf4ng","success");var o=t().categoryIncidents.data||[];e(s({data:Object(a.a)(o),searchIncidentCode:"",searchIncidentType:""})),e(u(0)),i()}else r.a.show("X\xf3a danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 kh\xf4ng th\xe0nh c\xf4ng","danger"),c()}).catch(function(n){r.a.show("X\xf3a danh m\u1ee5c lo\u1ea1i s\u1ef1 c\u1ed1 kh\xf4ng th\xe0nh c\xf4ng","danger"),c()})},onCancel:function(){c()}})})}},loadList:function(){return function(n,e){l.search(0,1e3,"","").then(function(e){switch(e.code){case 0:n(s({categoryIncidents:e.data,total:e.totalElements}))}})}}}},428:function(n,e,t){},432:function(n,e,t){"use strict";var a=t(44),i=t(6),c=t(8),o=t.n(c),l={getById:function(n){var e=o.a.api.airPollutionIncidents+"/"+n;return i.a.requestApi("get",e,{})},search:function(n,e,t,a,c,l){var r=o.a.api.airPollutionIncidents+"?sort=createdAt,desc";return r+="&page="+(0===n?0:n?n-1:0),r+="&size="+(e||10),t&&(r+="&name="+t),a&&(r+="&stageIncident="+a),c&&(r+="&fromDateStart="+c),l&&(r+="&fromDateFinish="+l),i.a.requestApi("get",r,{})},delete:function(n){var e=o.a.api.airPollutionIncidents+"/"+n;return i.a.requestApi("delete",e,{})},createOrEdit:function(n,e,t,a,c,l,r,d,s,u,h,m){if(n){var g=o.a.api.airPollutionIncidents+"/"+n;return i.a.requestApi("put",g,{name:e,typeIncidentId:t,stageIncident:a,reason:c,arena:l,fromDate:r,toDate:d,status:s,handling:u,conclusion:h,detailRating:m})}var I=o.a.api.airPollutionIncidents;return i.a.requestApi("post",I,{name:e,typeIncidentId:t,stageIncident:a,reason:c,arena:l,fromDate:r,toDate:d,status:s,handling:u,conclusion:h,detailRating:m})}},r=t(43),d=(t(20),t(191),t(624).a.confirm);function s(n){return function(e){e({type:"AIR-POLLUTION-INCIDENTS-UPDATE-DATA",data:n})}}function u(n){return function(e,t){e(s({page:n}));var a=t().airPollutionIncidents.size||10,i=t().airPollutionIncidents.searchName,c=t().airPollutionIncidents.searchStageIncident,o=t().airPollutionIncidents.searchFromDate,r=t().airPollutionIncidents.searchToDate,d=t().airPollutionIncidents.sort||{},u=t().airPollutionIncidents.searchActive;l.search(n,a,i,c,o,r,u,void 0,d).then(function(n){n&&0===n.code&&e(s({total:n.totalElements||a,data:n.data||[]}))})}}e.a={createOrEdit:function(){return function(n,e){return new Promise(function(t,a){var i=e().airPollutionIncidents.id,c=e().airPollutionIncidents.name,o=e().airPollutionIncidents.typeIncidentId,d=e().airPollutionIncidents.stageIncident,h=e().airPollutionIncidents.reason,m=e().airPollutionIncidents.arena,g=e().airPollutionIncidents.fromDate,I=e().airPollutionIncidents.toDate,f=e().airPollutionIncidents.status,p=e().airPollutionIncidents.handling,y=e().airPollutionIncidents.conclusion,D=e().airPollutionIncidents.detailRating;l.createOrEdit(i,c,o,d,h,m,g,I,f,p,y,D).then(function(e){0==e.code?(n(s({id:"",name:"",typeIncidentId:"",stageIncident:"",reason:"",arena:"",fromDate:"",toDate:"",status:"",handling:"",detailRating:""})),i?r.a.show("C\u1eadp nh\u1eadt danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n th\xe0nh c\xf4ng","success"):r.a.show("Th\xeam danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n th\xe0nh c\xf4ng","success"),n(u(0)),t(e.data)):(i?r.a.show(e.message||"S\u1eeda danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n kh\xf4ng th\xe0nh c\xf4ng","danger"):r.a.show(e.message||"Th\xeam danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n kh\xf4ng th\xe0nh c\xf4ng","danger"),a())}).catch(function(n){r.a.show("Th\xeam danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n kh\xf4ng th\xe0nh c\xf4ng","danger"),a()})})}},updateData:s,gotoPage:u,onSearch:function(n,e){return function(t,a){var i="name"===e?n:a().airPollutionIncidents.searchName,c="stageIncident"===e?n:a().airPollutionIncidents.searchsearchStageIncident,o="fromDate"===e?n&&new Date(n).format("YYYY-MM-dd"):a().airPollutionIncidents.searchFromDate&&new Date(a().airPollutionIncidents.searchFromDate).format("YYYY-MM-dd"),l="toDate"===e?n&&new Date(n).format("YYYY-MM-dd"):a().airPollutionIncidents.searchToDate&&new Date(a().airPollutionIncidents.searchToDate).format("YYYY-MM-dd");void 0===i&&void 0===c&&void 0===o&&void 0===l||t(s({searchName:i,searchStageIncident:c,searchFromDate:o,searchToDate:l})),t(u(0))}},onSizeChange:function(n){return function(e,t){e(s({size:n})),e(u(0))}},onDeleteItem:function(n){return function(e,t){return new Promise(function(i,c){d({title:"X\xe1c nh\u1eadn",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n ".concat(n.name,"?"),okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onOk:function(){l.delete(n.id).then(function(n){if(0==n.code){r.a.show("X\xf3a danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n th\xe0nh c\xf4ng","success");var o=t().airPollutionIncidents.data||[];e(s({data:Object(a.a)(o),searchFromDate:"",searchToDate:""})),e(u(0)),i()}else r.a.show("X\xf3a danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n kh\xf4ng th\xe0nh c\xf4ng","danger"),c()}).catch(function(n){r.a.show("X\xf3a danh m\u1ee5c lo\u1ea1i nhi\u1ec5m khu\u1ea9n kh\xf4ng th\xe0nh c\xf4ng","danger"),c()})},onCancel:function(){c()}})})}},loadDetail:function(n){return function(e,t){return new Promise(function(t,a){l.getById(n).then(function(n){if(n&&0==n.code&&n.data)return e(s({id:n.data.id,name:n.data.name,reason:n.data.reason,arena:n.data.arena,stageIncident:n.data.stageIncident,typeIncidentId:n.data.typeIncidentId,status:n.data.status,handling:n.data.handling,fromDate:n.data.fromDate,toDate:n.data.toDate,conclusion:n.data.conclusion,detailRating:n.data.detailRating})),void t(n.data);r.a.show("Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p","danger"),a(n)}).catch(function(n){r.a.show(n&&n.message?n.message:"X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau","danger"),a(n)})})}}}},606:function(n,e,t){"use strict";t.r(e);var a=t(0),i=t.n(a),c=t(298),o=t(14),l=t(404),r=t(432),d=t(419),s=t(3),u=t(247),h=t(191),m=t.n(h);t(428);e.default=Object(o.b)(function(n){return{auth:n.auth.auth,id:n.airPollutionIncidents.id,name:n.airPollutionIncidents.name,reason:n.airPollutionIncidents.reason,detailRating:n.airPollutionIncidents.detailRating||[],arena:n.airPollutionIncidents.arena,status:n.airPollutionIncidents.status,stageIncident:n.airPollutionIncidents.stageIncident,typeIncidentId:n.airPollutionIncidents.typeIncidentId,handling:n.airPollutionIncidents.handling,conclusion:n.airPollutionIncidents.conclusion,fromDate:n.airPollutionIncidents.fromDate&&m()(n.airPollutionIncidents.fromDate).format("DD-MM-YYYY")||null,toDate:n.airPollutionIncidents.toDate&&m()(n.airPollutionIncidents.toDate).format("DD-MM-YYYY")||null,listCategoryIncidents:n.categoryIncidents.categoryIncidents||[]}},{loadDetail:r.a.loadDetail,loadListCategoryIncidents:d.a.loadList})(function(n){var e=n.match.params.id;Object(a.useEffect)(function(){n.loadListCategoryIncidents(),e&&n.loadDetail(e).then(function(n){}).catch(function(e){n.history.replace("/air-pollution-incidents")})},[]);var t=function(n){var e=u.a.giaiDoanSuCo&&u.a.giaiDoanSuCo.length&&u.a.giaiDoanSuCo.filter(function(e){if(e.id===n)return e});return e.length>0?e[0]:{}},o=function(e){var t=n.listCategoryIncidents&&n.listCategoryIncidents.length&&n.listCategoryIncidents.filter(function(n){if(n.id===e)return n});return t.length>0?t[0]:{}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{className:"mgr-air-pollution-incidents"},i.a.createElement(s.f,{title:"Chi ti\u1ebft danh m\u1ee5c g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng",id:"mgr-air-pollution-incidents",allowClose:!1,allowCollapse:!1},i.a.createElement("div",{className:"detail-body"},i.a.createElement("div",null,i.a.createElement(l.a,{width:2,title:"T\xean s\u1ef1 c\u1ed1: ",value:n.name}),i.a.createElement(l.a,{width:2,title:"Lo\u1ea1i s\u1ef1 c\u1ed1: ",value:o(n.typeIncidentId)?o(n.typeIncidentId).incidentType:null}),i.a.createElement(l.a,{width:2,title:"Giai \u0111o\u1ea1n c\u1ee7a s\u1ef1 c\u1ed1: ",value:t(n.stageIncident)?t(n.stageIncident).name:null}),i.a.createElement(l.a,{width:2,title:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u: ",value:n.fromDate}),i.a.createElement(l.a,{width:2,title:"Th\u1eddi gian k\u1ebft th\xfac: ",value:n.toDate}),i.a.createElement(l.a,{width:2,title:"T\xecnh tr\u1ea1ng: ",value:n.status}),i.a.createElement(l.a,{width:2,title:"Nguy\xean nh\xe2n: ",value:n.reason}),i.a.createElement(l.a,{width:2,title:"Ph\u1ea1m vi: ",value:n.arena}),i.a.createElement(l.a,{width:2,title:"C\xe1ch x\u1eed l\xfd: ",value:n.handling}),i.a.createElement(l.a,{width:2,title:"K\u1ebft lu\u1eadn: ",value:n.conclusion}),i.a.createElement(l.a,{width:2,title:"\u0110\xe1nh gi\xe1 chi ti\u1ebft: ",value:i.a.createElement("table",{className:"table-sanitation-processes"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("td",{style:{width:"30%"}},"Ti\xeau ch\xed"),i.a.createElement("td",{style:{width:"20%"}},"Gi\xe1 tr\u1ecb \u0111\u1ecbnh l\u01b0\u1ee3ng"),i.a.createElement("td",{style:{width:"20%"}},"Tr\u1ecdng s\u1ed1"),i.a.createElement("td",{style:{width:"20%"}},"K\u1ebft qu\u1ea3"))),i.a.createElement("tbody",null,n.detailRating.map(function(n,e){return i.a.createElement("tr",{key:e},i.a.createElement("td",null,n.criteria),i.a.createElement("td",null,n.valueQuantitative),i.a.createElement("td",null,n.weight),i.a.createElement("td",null,n.result))})))}))),i.a.createElement("div",{style:{width:"100%",borderTop:"1px solid #e9e9e9",padding:"16px 16px 0px",background:"#fff",textAlign:"right"}},i.a.createElement(c.a,{onClick:function(){n.history.push("/air-pollution-incidents")},type:"primary",style:{marginRight:8}},"Quay l\u1ea1i")))))})}}]);
//# sourceMappingURL=34.a8b1de89.chunk.js.map