(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{404:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(0),i=n.n(a);n(405);function s(e){var t=e.title,n=e.value,a=e.width,s=e.table,c=e.style;return i.a.createElement("div",{className:"search-type search-type-disabled"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-"+a},i.a.createElement("span",{className:"title-search-input"},t)),i.a.createElement("div",{className:"col-md-"+(12-a),style:c},s?n:i.a.createElement("div",{className:"title-input-disabled"},n))))}},405:function(e,t,n){},417:function(e,t,n){"use strict";var a=n(44),i=n(6),s=n(8),c=n.n(s),r={getById:function(e){var t=c.a.api.mdEnvironmentalTests+"/"+e;return i.a.requestApi("get",t,{})},search:function(e,t,n,a){var s=c.a.api.mdEnvironmentalTests+"?sort=createdAt,desc";return s+="&page="+(0===e?0:e?e-1:0),s+="&size="+(t||10),n&&(s+="&specimenTypeId="+n),a&&(s+="&name="+a),i.a.requestApi("get",s,{})},delete:function(e){var t=c.a.api.mdEnvironmentalTests+"/"+e;return i.a.requestApi("delete",t,{})},createOrEdit:function(e,t,n,a,s,r){if(e){var l=c.a.api.mdEnvironmentalTests+"/"+e;return i.a.requestApi("put",l,{name:n,value:a,specimenTypeId:s,lines:r,active:t?1:0})}var m=c.a.api.mdEnvironmentalTests;return i.a.requestApi("post",m,{name:n,value:a,specimenTypeId:s,lines:r,active:t?1:0})}},l=n(43),m=(n(20),n(191),n(624).a.confirm);function d(e){return function(t){t({type:"MD-ENVIRONMENTAL-TEST-UPDATE-DATA",data:e})}}function o(e){return function(t,n){t(d({page:e}));var a=n().mdEnvironmentalTests.size||10;r.search(e,a).then(function(e){e&&0===e.code&&t(d({total:e.totalElements||a,data:e.data||[]}))})}}t.a={loadList:function(e){return function(t,n){r.search(0,1e3,e,"").then(function(e){switch(e.code){case 0:t(d({mdEnvironmentalTests:e.data,total:e.totalElements}))}})}},createOrEdit:function(){return function(e,t){return new Promise(function(n,a){var i=t().mdEnvironmentalTests.id,s=t().mdEnvironmentalTests.name,c=t().mdEnvironmentalTests.value,m=t().mdEnvironmentalTests.specimenTypeId,o=t().mdEnvironmentalTests.lines;r.createOrEdit(i,!0,s,c,m,o).then(function(t){0==t.code?(e(d({id:"",name:"",value:"",specimenTypeId:"",lines:[],active:!1})),i?l.a.show("C\u1eadp nh\u1eadt g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng th\xe0nh c\xf4ng","success"):l.a.show("Th\xeam g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng th\xe0nh c\xf4ng","success"),n(t.data)):(i?l.a.show(t.message||"S\u1eeda g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"):l.a.show(t.message||"Th\xeam g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"),a())}).catch(function(e){l.a.show("Th\xeam g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"),a()})})}},updateData:d,gotoPage:o,onSearch:function(e,t,n){return function(a,i){void 0===t&&void 0===e||a(d({searchName:t,searchValue:e,searchActive:n})),a(o(0))}},onSizeChange:function(e){return function(t,n){t(d({size:e})),t(o(0))}},onDeleteItem:function(e){return function(t,n){return new Promise(function(i,s){m({title:"X\xe1c nh\u1eadn",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng ".concat(e.name,"?"),okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onOk:function(){r.delete(e.id).then(function(c){if(0==c.code){l.a.show("X\xf3a g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng th\xe0nh c\xf4ng","success");var r=n().mdEnvironmentalTests.data||[],m=r.findIndex(function(t){return t.id==e.id});r.splice(m,1),t(d({data:Object(a.a)(r)})),t(o(0)),i()}else l.a.show("X\xf3a g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"),s()}).catch(function(e){l.a.show("X\xf3a g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"),s()})},onCancel:function(){s()}})})}},loadDetail:function(e){return function(t,n){return new Promise(function(n,a){r.getById(e).then(function(e){if(e&&0==e.code&&e.data)return t(d({id:e.data.id,name:e.data.name,value:e.data.value,specimenTypeId:e.data.specimenTypeId,lines:e.data.lines,specimenType:e.data.specimenType})),void n(e.data);l.a.show("Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p","danger"),a(e)}).catch(function(e){l.a.show(e&&e.message?e.message:"X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau","danger"),a(e)})})}}}},470:function(e,t,n){},611:function(e,t,n){"use strict";n.r(t);var a=n(46),i=n(0),s=n.n(i),c=n(298),r=n(14),l=n(404),m=n(417),d=n(3);n(470);t.default=Object(r.b)(function(e){return{auth:e.auth.auth,specimenType:e.mdEnvironmentalTests.specimenType||{},specimenTypeId:e.mdEnvironmentalTests.specimenTypeId||"",name:e.mdEnvironmentalTests.name,value:e.mdEnvironmentalTests.value,id:e.mdEnvironmentalTests.id,lines:e.mdEnvironmentalTests.lines||[],dataSpecimenTypes:e.specimenTypes.specimenTypes||[]}},{loadDetail:m.a.loadDetail})(function(e){var t=e.match.params.id;return Object(i.useEffect)(function(){t?e.loadDetail(t).then(function(e){}).catch(function(t){e.history.replace("/md-environmental-tests")}):e.updateData(Object(a.a)({id:null,name:"",value:"",specimenTypeId:"",lines:[]},"lines",[]))},[]),s.a.createElement(d.a,{className:"mgr-md-environmental-tests-detail"},s.a.createElement(d.f,{title:"Chi ti\u1ebft danh m\u1ee5c g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng",id:"mgr-md-environmental-tests-detail",allowClose:!1,allowCollapse:!1},s.a.createElement("div",{className:"detail-body"},s.a.createElement("div",null,s.a.createElement(l.a,{width:2,title:"T\xean g\xf3i: ",value:e.name}),s.a.createElement(l.a,{width:2,title:"M\xe3 s\u1ed1: ",value:e.value}),s.a.createElement(l.a,{width:2,title:"Lo\u1ea1i m\u1eabu x\xe9t nghi\u1ec7m: ",value:e.specimenType&&e.specimenType.name}),s.a.createElement(l.a,{width:2,title:"Chi ti\u1ebft: ",value:s.a.createElement("table",{className:"table-sanitation-processes",style:{width:"100%"}},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",{style:{width:"20%"}},"M\xe3 th\xf4ng s\u1ed1"),s.a.createElement("td",{style:{width:"20%"}},"Th\xf4ng s\u1ed1"),s.a.createElement("td",{style:{width:"20%"}},"Ph\u01b0\u01a1ng ph\xe1p x\xe1c \u0111\u1ecbnh"),s.a.createElement("td",{style:{width:"20%"}},"D\u1ea3i tham chi\u1ebfu"),s.a.createElement("td",{style:{width:"20%"}},"\u0110\u01a1n v\u1ecb"))),s.a.createElement("tbody",null,e.lines.map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.value),s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.testMethod),s.a.createElement("td",null,e.referenceRange),s.a.createElement("td",null,e.unit))})))}))),s.a.createElement("div",{style:{width:"100%",borderTop:"1px solid #e9e9e9",padding:"16px 16px 0px",background:"#fff",textAlign:"right"}},s.a.createElement(c.a,{onClick:function(){e.history.push("/md-environmental-tests")},type:"primary",style:{marginRight:8}},"Quay l\u1ea1i"))))})}}]);
//# sourceMappingURL=39.c62c0c31.chunk.js.map