(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{247:function(a,n,e){"use strict";n.a={loaiSanPham:[{id:10,name:"\u0110\u1ed3 v\u1ea3i",label:"DO_VAI"},{id:20,name:"D\u1ee5ng c\u1ee5 y t\u1ebf",label:"DUNG_CU_Y_TE"}],listStatus:[{id:10,name:"Ch\u01b0a th\u1ef1c hi\u1ec7n",label:"CHUA_THUC_HIEN"},{id:20,name:"\u0110ang th\u1ef1c hi\u1ec7n",label:"DANG_THUC_HIEN"},{id:30,name:"Ho\xe0n th\xe0nh",label:"HOAN_THAN"}],listTreatmentResult:[{id:1,name:"\u0110\u1ee1, gi\u1ea3m",label:"DO_GIAM"},{id:2,name:"Kh\u1ecfi b\u1ec7nh",label:"KHOI_BENH"},{id:3,name:"N\u1eb7ng h\u01a1n",label:"NANG_HON"},{id:4,name:"Kh\xf4ng thay \u0111\u1ed5i",label:"KHONG_THAY_DOI"},{id:5,name:"Ti\xean l\u01b0\u1ee3ng t\u1eed vong xin v\u1ec1",label:"TIEN_LUONG_TU_VONG"},{id:6,name:"T\u1eed vong",label:"TU_VONG"}],listGender:[{id:2,name:"N\u1eef",label:"FEMALE"},{id:1,name:"Nam",label:"MALE"}],listTrangThai:[{id:10,name:"Ch\u01b0a x\u1eed l\xfd",label:"CHUA_XU_LY"},{id:20,name:"\u0110\xe3 thanh tr\xf9ng",label:"DA_THANH_TRUNG"},{id:30,name:"\u0110\xe3 xu\u1ea5t",label:"DA_XUAT"}],listTrangThaiDungCu:[{id:10,name:"Ch\u1edd duy\u1ec7t",label:"CHO_DUYET"},{id:20,name:"Ch\u1edd ti\u1ec7t khu\u1ea9n",label:"CHO_TIET_KHUAN"},{id:30,name:"\u0110\xe3 ti\u1ec7t khu\u1ea9n",label:"DA_TIET_KHUAN"},{id:40,name:"\u0110\xe3 xu\u1ea5t",label:"DA_XUAT"},{id:50,name:"Qu\xe1 h\u1ea1n",label:"QUA_HAN"}],listChuyenTrangThaiDungCu:[{id:20,name:"Ch\u1edd ti\u1ec7t khu\u1ea9n",label:"CHO_TIET_KHUAN"},{id:30,name:"\u0110\xe3 ti\u1ec7t khu\u1ea9n",label:"DA_TIET_KHUAN"},{id:40,name:"\u0110\xe3 xu\u1ea5t",label:"DA_XUAT"}],typeUsers:[{id:1,name:"Super Admin",label:"super_admin"},{id:2,name:"Admin Qu\u1ea3n L\xfd Nhi\u1ec5m Khu\u1ea9n",label:"admin_ql_nhiem_khuan"},{id:3,name:"User Qu\u1ea3n L\xfd Nhi\u1ec5m Khu\u1ea9n",label:"user_ql_nhiem_khuan"},{id:4,name:"Admin Qu\u1ea3n L\xfd M\xf4i Tr\u01b0\u1eddng",label:"admin_ql_moi_truong"},{id:5,name:"User Qu\u1ea3n L\xfd M\xf4i Tr\u01b0\u1eddng",label:"user_ql_moi_truong"},{id:6,name:"User kh\xe1c",label:"user_khac"}],giaiDoanSuCo:[{id:1,name:"Nguy c\u01a1",label:"nguy_co"},{id:2,name:"Ph\xe1t tri\u1ec3n",label:"phat_trien"},{id:3,name:"S\u1ef1 c\u1ed1",label:"su_co"}]}},404:function(a,n,e){"use strict";e.d(n,"a",function(){return i});var t=e(0),u=e.n(t);e(405);function i(a){var n=a.title,e=a.value,t=a.width,i=a.table,o=a.style;return u.a.createElement("div",{className:"search-type search-type-disabled"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-"+t},u.a.createElement("span",{className:"title-search-input"},n)),u.a.createElement("div",{className:"col-md-"+(12-t),style:o},i?e:u.a.createElement("div",{className:"title-input-disabled"},e))))}},405:function(a,n,e){},413:function(a,n,e){"use strict";var t=e(44),u=e(6),i=e(8),o=e.n(i),h={getById:function(a){var n=o.a.api.dmDungCu+"/"+a;return u.a.requestApi("get",n,{})},search:function(a,n,e,t,i){var h=o.a.api.dmDungCu+"?sort=createdAt,desc";return h+="&page="+(0===a?0:a?a-1:0),h+="&size="+(n||10),e&&(h+="&value="+e),t&&(h+="&name="+t),i&&(h+="&loai="+i),u.a.requestApi("get",h,{})},delete:function(a){var n=o.a.api.dmDungCu+"/"+a;return u.a.requestApi("delete",n,{})},createOrEdit:function(a,n,e,t){if(a){var i=o.a.api.dmDungCu+"/"+a;return u.a.requestApi("put",i,{value:n,name:e,loai:t})}var h=o.a.api.dmDungCu;return u.a.requestApi("post",h,{value:n,name:e,loai:t})}},r=e(43),c=(e(20),e(624).a.confirm);function d(a){return function(n){n({type:"DM-DUNG-CU-UPDATE-DATA",data:a})}}function l(a){return function(n,e){n(d({page:a}));var t=e().dmDungcu.size||10,u=e().dmDungcu.searchValue,i=e().dmDungcu.searchName,o=e().dmDungcu.searchLoai;h.search(a,t,u,i,o).then(function(a){a&&0===a.code&&n(d({total:a.totalElements||t,data:a.data||[]}))})}}n.a={createOrEdit:function(){return function(a,n){return new Promise(function(e,t){var u=n().dmDungcu.id,i=n().dmDungcu.name,o=n().dmDungcu.value,c=n().dmDungcu.loai;h.createOrEdit(u,o,i,c).then(function(n){0==n.code?(a(d({isOpen:!1,id:"",value:"",name:"",loai:""})),u?r.a.show("C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng!","success"):r.a.show("Th\xeam m\u1edbi d\u1eef li\u1ec7u th\xe0nh c\xf4ng!","success"),a(l(0)),e(n.data)):(u?r.a.show(n.message||"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng!","danger"):r.a.show(n.message||"Th\xeam m\u1edbi d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng!","danger"),t())}).catch(function(a){r.a.show("Th\xeam m\u1edbi d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng!","danger"),t()})})}},updateData:d,gotoPage:l,onSearch:function(a,n){return function(e,t){var u="value"===n?a:t().dmDungcu.searchValue,i="name"===n?a:t().dmDungcu.searchName,o="loai"===n?a:t().dmDungcu.searchLoai;void 0===u&&void 0===i&&void 0===o||e(d({searchValue:u,searchName:i,searchLoai:o})),e(l(0))}},onSizeChange:function(a){return function(n,e){n(d({size:a})),n(l(0))}},onDeleteItem:function(a){return function(n,e){return new Promise(function(u,i){c({title:"X\xe1c nh\u1eadn",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ".concat(a.name,"?"),okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onOk:function(){h.delete(a.id).then(function(a){if(0==a.code){r.a.show("X\xf3a d\u1eef li\u1ec7u th\xe0nh c\xf4ng!","success");var o=e().dmDungcu.data||[];n(d({data:Object(t.a)(o)})),n(l(0)),u()}else r.a.show("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),i()}).catch(function(a){r.a.show("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),i()})},onCancel:function(){i()}})})}},loadList:function(a,n,e){return function(t,u){h.search(0,1e3,a,n,e).then(function(a){switch(a.code){case 0:t(d({dmDungCu:a.data,total:a.totalElements}))}})}},loadListMedical:function(){return function(a,n){h.search(0,1e3,"","",20).then(function(n){switch(n.code){case 0:a(d({listMedical:n.data,total:n.totalElements}))}})}}}},420:function(a,n,e){"use strict";var t=e(44),u=e(6),i=e(8),o=e.n(i),h={getById:function(a){var n=o.a.api.quanLyDungCu+"/"+a;return u.a.requestApi("get",n,{})},search:function(a,n,e,t,i,h,r,c,d,l){var g=o.a.api.quanLyDungCu+"?sort=createdAt,desc";return g+="&page="+(0===a?0:a?a-1:0),g+="&size="+(n||10),e&&(g+="&value="+e),t&&(g+="&name="+t),i&&(g+="&khoaBanGiao="+i),h&&(g+="&trangThai="+h),r&&(g+="&thoiGianTietKhuanTu="+r),c&&(g+="&thoiGianTietKhuanDen="+c),d&&(g+="&thoiGianBanGiaoTu="+d),l&&(g+="&thoiGianBanGiaoDen="+l),u.a.requestApi("get",g,{})},delete:function(a){var n=o.a.api.quanLyDungCu+"/"+a;return u.a.requestApi("delete",n,{})},createOrEdit:function(a,n,e,t,i,h,r,c,d){if(a){var l=o.a.api.quanLyDungCu+"/"+a;return u.a.requestApi("put",l,{name:e,maSoHopDungCu:n,ghiChu:t,trangThai:i,thoiGianTietKhuan:h,thoiGianBanGiao:r,khoaBanGiaoId:c,chiTiet:d})}var g=o.a.api.quanLyDungCu;return u.a.requestApi("post",g,{maSoHopDungCu:n,name:e,ghiChu:t,trangThai:i,thoiGianTietKhuan:h,thoiGianBanGiao:r,khoaBanGiaoId:c,chiTiet:d})},changeStatus:function(a,n,e,t,i,h,r,c,d){var l=o.a.api.quanLyDungCu+"/doi-trang-thai/"+a;return u.a.requestApi("put",l,{maSoHopDungCu:n,name:e,ghiChu:t,trangThai:i,thoiGianTietKhuan:h,thoiGianBanGiao:r,khoaBanGiaoId:c,chiTiet:d})},duyetDungCu:function(a,n,e,t,i,h,r,c,d){var l=o.a.api.quanLyDungCu+"/duyet-dung-cu/"+a;return u.a.requestApi("put",l,{maSoHopDungCu:n,name:e,ghiChu:t,trangThai:i,thoiGianTietKhuan:h,thoiGianBanGiao:r,khoaBanGiaoId:c,chiTiet:d})}},r=e(43),c=(e(20),e(624).a.confirm);function d(a){return function(n){n({type:"QUAN-LY-DUNG-CU-UPDATE-DATA",data:a})}}function l(a){return function(n,e){n(d({page:a}));var t=e().quanLyDungCu.size||10,u=e().quanLyDungCu.searchValue,i=e().quanLyDungCu.searchName,o=e().quanLyDungCu.searchFaculty,r=e().quanLyDungCu.searchStatus,c=e().quanLyDungCu.searchFromPerform,l=e().quanLyDungCu.searchToPerform,g=e().quanLyDungCu.searchFromHandover,s=e().quanLyDungCu.searchToHandover;h.search(a,t,u,i,o,r,c,l,g,s).then(function(a){a&&0===a.code&&n(d({total:a.totalElements||t,data:a.data||[]}))})}}n.a={loadList:function(){return function(a,n){h.search(0,1e3,"","").then(function(n){switch(n.code){case 0:a(d({quanLyDungCu:n.data,total:n.totalElements}))}})}},createOrEdit:function(){return function(a,n){return new Promise(function(e,t){var u=n().quanLyDungCu.id,i=n().quanLyDungCu.maSoHopDungCu,o=n().quanLyDungCu.name,c=n().quanLyDungCu.ghiChu,g=n().quanLyDungCu.trangThai||10,s=n().quanLyDungCu.thoiGianTietKhuan,m=n().quanLyDungCu.thoiGianBanGiao,D=n().quanLyDungCu.khoaBanGiaoId,C=n().quanLyDungCu.chiTiet;C.length>0?h.createOrEdit(u,i,o,c,g,s,m,D,C).then(function(n){0==n.code?(a(d({id:""})),u?r.a.show("C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng","success"):r.a.show("Th\xeam d\u1eef li\u1ec7u th\xe0nh c\xf4ng","success"),a(l(0)),e(n.data)):(u?r.a.show(n.message||"S\u1eeda d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"):r.a.show(n.message||"Th\xeam d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),t())}).catch(function(a){r.a.show("Th\xeam d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),t()}):r.a.show("Ph\u1ea3i c\xf3 \xedt nh\u1ea5t m\u1ed9t d\u1ee5ng c\u1ee5","danger")})}},updateData:d,gotoPage:l,onSearch:function(a,n){return function(e,t){var u="searchValue"===n?a:t().quanLyDungCu.searchValue,i="searchName"===n?a:t().quanLyDungCu.searchName,o="searchFaculty"===n?a:t().quanLyDungCu.searchFaculty,h="searchStatus"===n?a:t().quanLyDungCu.searchStatus,r="searchFromPerform"===n?a&&new Date(a).format("YYYY-MM-dd"):t().quanLyDungCu.searchFromPerform&&new Date(t().quanLyDungCu.searchFromPerform).format("YYYY-MM-dd"),c="searchToPerform"===n?a&&new Date(a).format("YYYY-MM-dd"):t().quanLyDungCu.searchToPerform&&new Date(t().quanLyDungCu.searchToPerform).format("YYYY-MM-dd"),g="searchFromHandover"===n?a&&new Date(a).format("YYYY-MM-dd"):t().quanLyDungCu.searchFromHandover&&new Date(t().quanLyDungCu.searchFromPerform).format("YYYY-MM-dd"),s="searchToHandover"===n?a&&new Date(a).format("YYYY-MM-dd"):t().quanLyDungCu.searchToHandover&&new Date(t().quanLyDungCu.searchToHandover).format("YYYY-MM-dd");void 0===u&&void 0===i&&void 0===o&&void 0===h&&void 0===r&&void 0===c&&void 0===g&&void 0===s||e(d({searchValue:u,searchName:i,searchFaculty:o,searchStatus:h,searchFromPerform:r,searchToPerform:c,searchFromHandover:g,searchToHandover:s})),e(l(0))}},onSizeChange:function(a){return function(n,e){n(d({size:a})),n(l(0))}},onDeleteItem:function(a){return function(n,e){return new Promise(function(u,i){c({title:"X\xe1c nh\u1eadn",content:"B\u1ea1n c\xf3 mu\u1ed1n xo\xe1 ".concat(a.id,"?"),okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onOk:function(){h.delete(a.id).then(function(o){if(0==o.code){r.a.show("X\xf3a d\u1eef li\u1ec7u th\xe0nh c\xf4ng","success");var h=e().quanLyDungCu.data||[],c=h.findIndex(function(n){return n.id==a.id});h.splice(c,1),n(d({data:Object(t.a)(h)})),n(l(0)),u()}else r.a.show("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),i()}).catch(function(a){r.a.show("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),i()})},onCancel:function(){i()}})})}},loadDetail:function(a){return function(n,e){return new Promise(function(e,t){h.getById(a).then(function(a){if(a&&0==a.code&&a.data)return n(d({id:a.data.id,maSoHopDungCu:a.data.maSoHopDungCu,name:a.data.name,trangThai:a.data.trangThai,ghiChu:a.data.ghiChu,thoiGianTietKhuan:a.data.thoiGianTietKhuan,khoaBanGiao:a.data.khoaBanGiao,khoaBanGiaoId:a.data.khoaBanGiaoId,thoiGianBanGiao:a.data.thoiGianBanGiao,chiTiet:a.data.chiTiet&&a.data.chiTiet.length?a.data.chiTiet.map(function(a){return{ghiChu:a.ghiChu,dmDungCuId:a.dmDungCuId,soLuong:a.soLuong}}):[]})),void e(a.data);r.a.show("Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p","danger"),t(a)}).catch(function(a){r.a.show(a&&a.message?a.message:"X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau","danger"),t(a)})})}},changeStatus:function(){return function(a,n){return new Promise(function(e,t){var u=n().quanLyDungCu.id,i=n().quanLyDungCu.maSoHopDungCu,o=n().quanLyDungCu.name,c=n().quanLyDungCu.ghiChu,g=n().quanLyDungCu.trangThai,s=n().quanLyDungCu.thoiGianTietKhuan,m=n().quanLyDungCu.thoiGianBanGiao,D=n().quanLyDungCu.khoaBanGiaoId,C=n().quanLyDungCu.chiTiet;h.changeStatus(u,i,o,c,g,s,m,D,C).then(function(n){0==n.code?(a(d({id:""})),r.a.show("Chuy\u1ec3n tr\u1ea1ng th\xe1i th\xe0nh c\xf4ng","success"),a(l(0)),e(n.data)):(r.a.show(n.message||"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i kh\xf4ng th\xe0nh c\xf4ng","danger"),t())}).catch(function(a){r.a.show("C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i kh\xf4ng th\xe0nh c\xf4ng","danger"),t()})})}},duyetDungCu:function(){return function(a,n){return new Promise(function(e,t){var u=n().quanLyDungCu.id,i=n().quanLyDungCu.maSoHopDungCu,o=n().quanLyDungCu.name,c=n().quanLyDungCu.ghiChu,g=n().quanLyDungCu.thoiGianTietKhuan,s=n().quanLyDungCu.thoiGianBanGiao,m=n().quanLyDungCu.khoaBanGiaoId,D=n().quanLyDungCu.chiTiet;h.duyetDungCu(u,i,o,c,20,g,s,m,D).then(function(n){0==n.code?(a(d({id:""})),r.a.show("Duy\u1ec7t d\u1ee5ng c\u1ee5 th\xe0nh c\xf4ng","success"),a(l(0)),e(n.data)):(r.a.show(n.message||"Duy\u1ec7t d\u1ee5ng c\u1ee5 kh\xf4ng th\xe0nh c\xf4ng","danger"),t())}).catch(function(a){r.a.show("Duy\u1ec7t d\u1ee5ng c\u1ee5 kh\xf4ng th\xe0nh c\xf4ng","danger"),t()})})}}}},622:function(a,n,e){"use strict";e.r(n);var t=e(0),u=e.n(t),i=e(298),o=e(14),h=e(404),r=e(420),c=e(3),d=e(191),l=e.n(d),g=e(247),s=e(413);n.default=Object(o.b)(function(a){return{auth:a.auth.auth,id:a.quanLyDungCu.id,maSoHopDungCu:a.quanLyDungCu.maSoHopDungCu,chiTiet:a.quanLyDungCu.chiTiet||[],khoaBanGiao:a.quanLyDungCu.khoaBanGiao,ghiChu:a.quanLyDungCu.ghiChu,trangThai:a.quanLyDungCu.trangThai,thoiGianTietKhuan:a.quanLyDungCu.thoiGianTietKhuan&&l()(a.quanLyDungCu.thoiGianTietKhuan).format("HH:mm:ss DD/MM/YYYY")||null,thoiGianBanGiao:a.quanLyDungCu.thoiGianBanGiao&&l()(a.quanLyDungCu.thoiGianBanGiao).format("DD/MM/YYYY")||null,listDungCu:a.dmDungcu.dmDungCu||[]}},{loadDetail:r.a.loadDetail,loadListDmDungCu:s.a.loadList})(function(a){var n=a.match.params.id,e=function(a){var n=g.a.listTrangThaiDungCu.filter(function(n){return parseInt(n.id)===Number(a)});return n.length?n[0]:{}};Object(t.useEffect)(function(){n?a.loadDetail(n).then(function(a){}).catch(function(n){a.history.replace("/quan-ly-dung-cu")}):a.updateData({id:null}),a.loadListDmDungCu()},[]);var o=function(n){var e=a.listDungCu&&a.listDungCu.length&&a.listDungCu.filter(function(a){return n===a.id});return e&&e.length?e[0]:[]};return u.a.createElement(u.a.Fragment,null,u.a.createElement(c.a,{className:"quan-ly-dung-cu"},u.a.createElement(c.f,{title:"Chi ti\u1ebft danh s\xe1ch thanh tr\xf9ng \u0111\u1ed3 v\u1ea3i",id:"quan-ly-dung-cu",allowClose:!1,allowCollapse:!1},u.a.createElement("div",{className:"detail-body row"},u.a.createElement("div",{className:"col-md-6"},u.a.createElement(h.a,{width:4,title:"M\xe3 s\u1ed1 h\u1ed9p d\u1ee5ng c\u1ee5: ",value:a.maSoHopDungCu}),u.a.createElement(h.a,{width:4,title:"Khoa b\xe0n giao: ",value:a.khoaBanGiao&&a.khoaBanGiao.name}),u.a.createElement(h.a,{width:4,title:"Th\u1eddi gian b\xe0n giao: ",value:a.thoiGianBanGiao})),u.a.createElement("div",{className:"col-md-6"},u.a.createElement(h.a,{width:4,title:"Tr\u1ea1ng th\xe1i: ",value:e(a.trangThai)?e(a.trangThai).name:null}),u.a.createElement(h.a,{width:4,title:"Th\u1eddi gian th\u1ef1c hi\u1ec7n: ",value:a.thoiGianTietKhuan}),u.a.createElement(h.a,{width:4,title:"Ghi ch\xfa: ",value:a.ghiChu})),u.a.createElement("div",{className:"col-md-12"},u.a.createElement(h.a,{width:2,title:"\u0110\xe1nh gi\xe1 chi ti\u1ebft: ",value:u.a.createElement("table",{className:"table-sanitation-processes"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("td",{style:{width:"15%"}},"T\xean d\u1ee5ng c\u1ee5 y t\u1ebf"),u.a.createElement("td",{style:{width:"20%"}},"S\u1ed1 l\u01b0\u1ee3ng"),u.a.createElement("td",{style:{width:"15%"}},"Ghi ch\xfa"))),u.a.createElement("tbody",null,a.chiTiet.map(function(a,n){return u.a.createElement("tr",{key:n},u.a.createElement("td",null,o(a.dmDungCuId)&&o(a.dmDungCuId).name),u.a.createElement("td",null,a.soLuong),u.a.createElement("td",null,a.ghiChu))})))}))),u.a.createElement("div",{style:{width:"100%",borderTop:"1px solid #e9e9e9",padding:"16px 16px 0px",background:"#fff",textAlign:"right"}},u.a.createElement(i.a,{onClick:function(){a.history.push("/quan-ly-dung-cu")},type:"primary",style:{marginRight:8}},"Quay l\u1ea1i")))))})}}]);
//# sourceMappingURL=41.a6c00bad.chunk.js.map