(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{404:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(0),s=n.n(a);n(405);function i(e){var t=e.title,n=e.value,a=e.width,i=e.table,r=e.style;return s.a.createElement("div",{className:"search-type search-type-disabled"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-"+a},s.a.createElement("span",{className:"title-search-input"},t)),s.a.createElement("div",{className:"col-md-"+(12-a),style:r},i?n:s.a.createElement("div",{className:"title-input-disabled"},n))))}},405:function(e,t,n){},417:function(e,t,n){"use strict";var a=n(44),s=n(6),i=n(8),r=n.n(i),c={getById:function(e){var t=r.a.api.mdEnvironmentalTests+"/"+e;return s.a.requestApi("get",t,{})},search:function(e,t,n,a){var i=r.a.api.mdEnvironmentalTests+"?sort=createdAt,desc";return i+="&page="+(0===e?0:e?e-1:0),i+="&size="+(t||10),n&&(i+="&specimenTypeId="+n),a&&(i+="&name="+a),s.a.requestApi("get",i,{})},delete:function(e){var t=r.a.api.mdEnvironmentalTests+"/"+e;return s.a.requestApi("delete",t,{})},createOrEdit:function(e,t,n,a,i,c){if(e){var o=r.a.api.mdEnvironmentalTests+"/"+e;return s.a.requestApi("put",o,{name:n,value:a,specimenTypeId:i,lines:c,active:t?1:0})}var m=r.a.api.mdEnvironmentalTests;return s.a.requestApi("post",m,{name:n,value:a,specimenTypeId:i,lines:c,active:t?1:0})}},o=n(43),m=(n(20),n(191),n(624).a.confirm);function l(e){return function(t){t({type:"MD-ENVIRONMENTAL-TEST-UPDATE-DATA",data:e})}}function d(e){return function(t,n){t(l({page:e}));var a=n().mdEnvironmentalTests.size||10;c.search(e,a).then(function(e){e&&0===e.code&&t(l({total:e.totalElements||a,data:e.data||[]}))})}}t.a={loadList:function(e){return function(t,n){c.search(0,1e3,e,"").then(function(e){switch(e.code){case 0:t(l({mdEnvironmentalTests:e.data,total:e.totalElements}))}})}},createOrEdit:function(){return function(e,t){return new Promise(function(n,a){var s=t().mdEnvironmentalTests.id,i=t().mdEnvironmentalTests.name,r=t().mdEnvironmentalTests.value,m=t().mdEnvironmentalTests.specimenTypeId,d=t().mdEnvironmentalTests.lines;c.createOrEdit(s,!0,i,r,m,d).then(function(t){0==t.code?(e(l({id:"",name:"",value:"",specimenTypeId:"",lines:[],active:!1})),s?o.a.show("C\u1eadp nh\u1eadt g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng th\xe0nh c\xf4ng","success"):o.a.show("Th\xeam g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng th\xe0nh c\xf4ng","success"),n(t.data)):(s?o.a.show(t.message||"S\u1eeda g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"):o.a.show(t.message||"Th\xeam g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"),a())}).catch(function(e){o.a.show("Th\xeam g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"),a()})})}},updateData:l,gotoPage:d,onSearch:function(e,t,n){return function(a,s){void 0===t&&void 0===e||a(l({searchName:t,searchValue:e,searchActive:n})),a(d(0))}},onSizeChange:function(e){return function(t,n){t(l({size:e})),t(d(0))}},onDeleteItem:function(e){return function(t,n){return new Promise(function(s,i){m({title:"X\xe1c nh\u1eadn",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng ".concat(e.name,"?"),okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onOk:function(){c.delete(e.id).then(function(r){if(0==r.code){o.a.show("X\xf3a g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng th\xe0nh c\xf4ng","success");var c=n().mdEnvironmentalTests.data||[],m=c.findIndex(function(t){return t.id==e.id});c.splice(m,1),t(l({data:Object(a.a)(c)})),t(d(0)),s()}else o.a.show("X\xf3a g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"),i()}).catch(function(e){o.a.show("X\xf3a g\xf3i x\xe9t nghi\u1ec7m m\xf4i tr\u01b0\u1eddng kh\xf4ng th\xe0nh c\xf4ng","danger"),i()})},onCancel:function(){i()}})})}},loadDetail:function(e){return function(t,n){return new Promise(function(n,a){c.getById(e).then(function(e){if(e&&0==e.code&&e.data)return t(l({id:e.data.id,name:e.data.name,value:e.data.value,specimenTypeId:e.data.specimenTypeId,lines:e.data.lines,specimenType:e.data.specimenType})),void n(e.data);o.a.show("Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p","danger"),a(e)}).catch(function(e){o.a.show(e&&e.message?e.message:"X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau","danger"),a(e)})})}}}},423:function(e,t,n){"use strict";var a=n(44),s=n(6),i=n(8),r=n.n(i),c={getById:function(e){var t=r.a.api.environmentalTests+"/"+e;return s.a.requestApi("get",t,{})},search:function(e,t,n,a,i,c,o,m){var l=r.a.api.environmentalTests+"?sort=createdAt,desc";return l+="&page="+(0===e?0:e?e-1:0),l+="&size="+(t||10),n&&(l+="&specimenTypeId="+n),a&&(l+="&actDateFrom="+a),i&&(l+="&actDateTo="+i),c&&(l+="&assessment="+c),o&&(l+="&assessor="+o),m&&(l+="&executor="+m),s.a.requestApi("get",l,{})},delete:function(e){var t=r.a.api.environmentalTests+"/"+e;return s.a.requestApi("delete",t,{})},createOrEdit:function(e,t,n,a,i,c,o,m,l){if(e){var d=r.a.api.environmentalTests+"/"+e;return s.a.requestApi("put",d,{specimenTypeId:t,mdEnvironmentalId:n,assessment:a,assessor:i,executor:c,actDate:o,lines:m,location:l})}var u=r.a.api.environmentalTests;return s.a.requestApi("post",u,{specimenTypeId:t,mdEnvironmentalId:n,assessment:a,assessor:i,executor:c,actDate:o,lines:m,location:l})}},o=n(43),m=(n(20),n(624)),l=n(191),d=n.n(l),u=m.a.confirm;function h(e){return function(t){t({type:"ENVIROMENTAL-TESTS-UPDATE-DATA",data:e})}}function p(e){return function(t,n){t(h({page:e}));var a=n().environmentalTests.size||10,s=n().environmentalTests.searchSpecimenType,i=n().environmentalTests.searchAssessment,r=n().environmentalTests.searchAssessor,o=n().environmentalTests.searchExecutor,m=n().environmentalTests.searchDateFrom,l=n().environmentalTests.searchDateTo;c.search(e,a,s,m,l,i,r,o,void 0).then(function(e){e&&0===e.code&&t(h({total:e.totalElements||a,data:e.data||[]}))})}}t.a={createOrEdit:function(){return function(e,t){return new Promise(function(n,a){var s=t().environmentalTests.id,i=t().environmentalTests.specimenTypeId,r=t().environmentalTests.mdEnvironmentalId,m=t().environmentalTests.assessment,l=t().environmentalTests.assessor,d=t().environmentalTests.executor,u=t().environmentalTests.actDate,v=t().environmentalTests.location,T=t().environmentalTests.lines;c.createOrEdit(s,i,r,m,l,d,u,T,v).then(function(t){0==t.code?(e(h({id:"",name:"",specimenType:"",assessment:"",assessor:"",executor:"",actDate:"",lines:"",location:"",searchSpecimenType:"",searchAssessment:"",searchAssessor:"",searchExecutor:"",dataIndex:""})),s?o.a.show("C\u1eadp nh\u1eadt d\u1eef li\u1ec7u th\xe0nh c\xf4ng","success"):o.a.show("Th\xeam m\u1edbi d\u1eef li\u1ec7u th\xe0nh c\xf4ng","success"),e(p(0)),n(t.data)):(s?o.a.show(t.message||"C\u1eadp nh\u1eadt d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"):o.a.show(t.message||"Th\xeam m\u1edbi d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),a())}).catch(function(e){o.a.show("Th\xeam m\u1edbi d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),a()})})}},updateData:h,gotoPage:p,onSearch:function(e,t){return function(n,a){var s="specimenType"===t?e:a().environmentalTests.searchSpecimenType,i="assessment"===t?e:a().environmentalTests.searchAssessment,r="assessor"===t?e:a().environmentalTests.searchAssessor,c="executor"===t?e:a().environmentalTests.searchExecutor,o="searchDateFrom"===t?e&&d()(e).format("YYYY-MM-DD"):a().environmentalTests.searchDateFrom&&d()(a().environmentalTests.searchDateFrom).format("YYYY-MM-DD"),m="searchDateTo"===t?e&&d()(e).format("YYYY-MM-DD"):a().environmentalTests.searchDateTo&&d()(a().environmentalTests.searchDateTo).format("YYYY-MM-DD");void 0===s&&void 0===i&&void 0===r&&void 0===c&&void 0===o&&void 0===m||n(h({searchSpecimenType:s,searchAssessment:i,searchAssessor:r,searchExecutor:c,searchDateFrom:o,searchDateTo:m})),n(p(0))}},onSizeChange:function(e){return function(t,n){t(h({size:e})),t(p(0))}},onDeleteItem:function(e){return function(t,n){return new Promise(function(s,i){u({title:"X\xe1c nh\u1eadn",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ".concat((e.specimenType||{}).name," ng\xe0y ").concat(e.actDate&&d()(e.actDate).format("dd-MM-YYYY"),"?"),okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onOk:function(){c.delete(e.id).then(function(e){if(0==e.code){o.a.show("X\xf3a d\u1eef li\u1ec7u th\xe0nh c\xf4ng","success");var r=n().environmentalTests.data||[];t(h({data:Object(a.a)(r),searchSpecimenType:"",searchAssessment:"",searchAssessor:"",searchExecutor:""})),t(p(0)),s()}else o.a.show("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),i()}).catch(function(e){o.a.show("X\xf3a d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng","danger"),i()})},onCancel:function(){i()}})})}},loadDetail:function(e){return function(t,n){return new Promise(function(n,a){c.getById(e).then(function(e){if(0==e.code&&e.data)return t(h({id:e.data.id,lines:e.data.lines,assessment:e.data.assessment,assessor:e.data.assessor,assessorId:e.data.assessorId,executor:e.data.executor,executorId:e.data.executorId,actDate:e.data.actDate,location:e.data.location,mdEnvironmentalId:e.data.mdEnvironmentalId,specimenType:e.data.specimenType,specimenTypeId:e.data.specimenTypeId})),void n(e.data);o.a.show("Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p","danger"),a(e)}).catch(function(e){o.a.show(e&&e.message?e.message:"X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau","danger"),a(e)})})}}}},429:function(e,t,n){},608:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(298),r=n(14),c=n(404),o=n(423),m=n(417),l=n(3),d=n(191),u=n.n(d);n(429);t.default=Object(r.b)(function(e){return{auth:e.auth.auth,id:e.environmentalTests.id,specimenType:e.environmentalTests.specimenType&&e.environmentalTests.specimenType.name,specimenTypeId:e.environmentalTests.specimenTypeId,mdEnvironmentalId:e.environmentalTests.mdEnvironmentalId,assessment:e.environmentalTests.assessment,assessor:e.environmentalTests.assessor,executor:e.environmentalTests.executor,assessorId:e.environmentalTests.assessorId,executorId:e.environmentalTests.executorId,location:e.environmentalTests.location,actDate:e.environmentalTests.actDate&&u()(e.environmentalTests.actDate)||null,checkUpdate:e.environmentalTests.checkUpdate||!1,dataSpecimenTypes:e.specimenTypes.specimenTypes||[],mdEnvironmentalTests:e.mdEnvironmentalTests.name,lines:e.environmentalTests.lines||[],name:e.environmentalTests.name,testMethod:e.environmentalTests.testMethod,referenceRange:e.environmentalTests.referenceRange,unit:e.environmentalTests.unit,result:e.environmentalTests.result}},{updateData:o.a.updateData,loadDetail:o.a.loadDetail,loadMdEnvironmentalTests:m.a.loadDetail})(function(e){var t=e.match.params.id;return Object(a.useEffect)(function(){e.loadMdEnvironmentalTests(e.mdEnvironmentalId),t?e.loadDetail(t).then(function(e){}).catch(function(t){e.history.replace("/environmental-tests")}):e.updateData({id:null,name:"",value:"",specimenTypeId:"",lines:[],dataIndex:[]})},[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a,{className:"mgr-environmental-tests"},s.a.createElement(l.f,{title:"Chi ti\u1ebft danh s\xe1ch x\xe9t nghi\u1ec7m \u0111\xe1nh gi\xe1 m\xf4i tr\u01b0\u1eddng",id:"mgr-environmental-tests",allowClose:!1,allowCollapse:!1},s.a.createElement("div",{className:"detail-body"},s.a.createElement("div",null,s.a.createElement(c.a,{width:2,title:"Lo\u1ea1i m\u1eabu x\xe9t nghi\u1ec7m: ",value:e.specimenType}),s.a.createElement(c.a,{width:2,title:"G\xf3i x\xe9t nghi\u1ec7m: ",value:e.mdEnvironmentalTests}),s.a.createElement(c.a,{width:2,title:"\u0110\u1ecba \u0111i\u1ec3m l\u1ea5y m\u1eabu: ",value:e.location}),s.a.createElement(c.a,{width:2,title:"Th\u1eddi gian th\u1ef1c hi\u1ec7n: ",value:e.actDate&&u()(e.actDate).format("DD/MM/YYYY"),format:"DD/MM/YYYY"}),s.a.createElement(c.a,{width:2,title:"Ng\u01b0\u1eddi l\u1ea5y m\u1eabu: ",value:e.executor}),s.a.createElement(c.a,{width:2,title:"Ng\u01b0\u1eddi \u0111\xe1nh gi\xe1: ",value:e.assessor}),s.a.createElement(c.a,{width:2,title:"\u0110\xe1nh gi\xe1 m\u1ee9c \u0111\u1ed9 \xf4 nhi\u1ec5m: ",value:e.executor&&e.assessment}),s.a.createElement(c.a,{width:2,title:"\u0110\xe1nh gi\xe1 chi ti\u1ebft: ",value:s.a.createElement("table",{className:"table-sanitation-processes"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("td",{style:{width:"15%"}},"Th\xf4ng s\u1ed1"),s.a.createElement("td",{style:{width:"20%"}},"Ph\u01b0\u01a1ng ph\xe1p x\xe1c \u0111\u1ecbnh"),s.a.createElement("td",{style:{width:"15%"}}," D\u1ea3i tham chi\u1ebfu"),s.a.createElement("td",{style:{width:"15%"}}," \u0110\u01a1n v\u1ecb"),s.a.createElement("td",{style:{width:"15%"}},"K\u1ebft qu\u1ea3"))),s.a.createElement("tbody",null,e.lines.map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.name),s.a.createElement("td",null,e.testMethod),s.a.createElement("td",null,e.referenceRange),s.a.createElement("td",null,e.unit),s.a.createElement("td",null,e.result))})))}))),s.a.createElement("div",{style:{width:"100%",borderTop:"1px solid #e9e9e9",padding:"16px 16px 0px",background:"#fff",textAlign:"right"}},s.a.createElement(i.a,{onClick:function(){e.history.push("/environmental-tests"),e.updateData({id:"",specimenTypeId:"",mdEnvironmentalId:"",assessment:"",assessor:"",executor:"",actDate:"",dataIndex:"",location:"",lines:"",searchAssessment:"",searchAssessor:"",searchExecutor:"",searchSpecimenType:""})},type:"primary",style:{marginRight:8}},"Quay l\u1ea1i")))))})}}]);
//# sourceMappingURL=36.f38cd4f7.chunk.js.map