(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{404:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(0),i=a.n(n);a(405);function s(e){var t=e.title,a=e.value,n=e.width,s=e.table,c=e.style;return i.a.createElement("div",{className:"search-type search-type-disabled"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-"+n},i.a.createElement("span",{className:"title-search-input"},t)),i.a.createElement("div",{className:"col-md-"+(12-n),style:c},s?a:i.a.createElement("div",{className:"title-input-disabled"},a))))}},405:function(e,t,a){},430:function(e,t,a){"use strict";var n=a(44),i=a(6),s=a(8),c=a.n(s),r={getById:function(e){var t=c.a.api.sanitationProcessTemplates+"/"+e;return i.a.requestApi("get",t,{})},search:function(e,t,a,n){var s=c.a.api.sanitationProcessTemplates+"?sort=createdAt,desc";return s+="&page="+(0===e?0:e?e-1:0),t&&(s+="&size="+t),a&&(s+="&name="+a),n&&(s+="&value="+n),i.a.requestApi("get",s,{})},delete:function(e){var t=c.a.api.sanitationProcessTemplates+"/"+e;return i.a.requestApi("delete",t,{})},createOrEdit:function(e,t,a,n,s){if(e){var r=c.a.api.sanitationProcessTemplates+"/"+e;return i.a.requestApi("put",r,{name:a,value:n,lines:s,active:t?1:0})}var o=c.a.api.sanitationProcessTemplates;return i.a.requestApi("post",o,{name:a,value:n,lines:s,active:t?1:0})}},o=a(43),l=(a(20),a(191),a(624).a.confirm);function u(e){return function(t){t({type:"SANITATION-PROCESS-TEMPLATES-UPDATE-DATA",data:e})}}function m(e){return function(t,a){t(u({page:e}));var n=a().sanitationProcessTemplates.size||10,i=a().sanitationProcessTemplates.searchName,s=a().sanitationProcessTemplates.searchValue;r.search(e,n,i,s,void 0).then(function(e){e&&0===e.code&&t(u({total:e.totalElements||n,data:e.data||[]}))})}}t.a={loadList:function(){return function(e,t){r.search(0,null,"","").then(function(t){switch(t.code){case 0:e(u({sanitationProcessTemplates:t.data,total:t.totalElements}))}})}},createOrEdit:function(){return function(e,t){return new Promise(function(a,n){var i=t().sanitationProcessTemplates.id,s=t().sanitationProcessTemplates.name,c=t().sanitationProcessTemplates.value,l=t().sanitationProcessTemplates.dataIndex;r.createOrEdit(i,!0,s,c,l).then(function(t){0==t.code?(e(u({id:null,name:"",value:"",lines:[],dataIndex:[],active:!1,isOpen:!1})),i?o.a.show("C\u1eadp nh\u1eadt m\u1eabu quy tr\xecnh VSMT th\xe0nh c\xf4ng","success"):o.a.show("Th\xeam m\u1eabu quy tr\xecnh VSMT th\xe0nh c\xf4ng","success"),e(m(0)),a(t.data)):(i?o.a.show(t.message||"S\u1eeda m\u1eabu quy tr\xecnh VSMT kh\xf4ng th\xe0nh c\xf4ng","danger"):o.a.show(t.message||"Th\xeam m\u1eabu quy tr\xecnh VSMT kh\xf4ng th\xe0nh c\xf4ng","danger"),n())}).catch(function(e){o.a.show("Th\xeam m\u1eabu quy tr\xecnh VSMT kh\xf4ng th\xe0nh c\xf4ng","danger"),n()})})}},updateData:u,gotoPage:m,onSearch:function(e,t){return function(a,n){var i="value"===t?e:n().sanitationProcessTemplates.searchValue,s="name"===t?e:n().sanitationProcessTemplates.searchName;void 0===s&&void 0===i||a(u({searchName:s,searchValue:i})),a(m(0))}},onSizeChange:function(e){return function(t,a){t(u({size:e})),t(m(0))}},onDeleteItem:function(e){return function(t,a){return new Promise(function(i,s){l({title:"X\xe1c nh\u1eadn",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a m\u1eabu quy tr\xecnh VSMT ".concat(e.name,"?"),okText:"X\xf3a",okType:"danger",cancelText:"H\u1ee7y",onOk:function(){r.delete(e.id).then(function(c){if(0==c.code){o.a.show("X\xf3a m\u1eabu quy tr\xecnh VSMT th\xe0nh c\xf4ng","success");var r=a().sanitationProcessTemplates.data||[],l=r.findIndex(function(t){return t.id==e.id});r.splice(l,1),t(u({data:Object(n.a)(r)})),t(m(0)),i()}else o.a.show("X\xf3a m\u1eabu quy tr\xecnh VSMT kh\xf4ng th\xe0nh c\xf4ng","danger"),s()}).catch(function(e){o.a.show("X\xf3a m\u1eabu quy tr\xecnh VSMT kh\xf4ng th\xe0nh c\xf4ng","danger"),s()})},onCancel:function(){s()}})})}},loadDetail:function(e){return function(t,a){return new Promise(function(a,n){r.getById(e).then(function(e){if(e&&0==e.code&&e.data)return t(u({id:e.data.id,name:e.data.name,value:e.data.value,lines:e.data.lines,dataIndex:e.data.lines})),void a(e.data);o.a.show("Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 ph\xf9 h\u1ee3p","danger"),n(e)}).catch(function(e){o.a.show(e&&e.message?e.message:"X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau","danger"),n(e)})})}}}},469:function(e,t,a){},615:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(298),c=a(14),r=a(404),o=a(430),l=a(3);a(469);t.default=Object(c.b)(function(e){return{auth:e.auth.auth,name:e.sanitationProcessTemplates.name,value:e.sanitationProcessTemplates.value,content:e.sanitationProcessTemplates.content,id:e.sanitationProcessTemplates.id,lines:e.sanitationProcessTemplates.lines||[]}},{loadDetail:o.a.loadDetail,updateData:o.a.updateData})(function(e){var t=e.match.params.id;return Object(n.useEffect)(function(){t?e.loadDetail(t).then(function(e){}).catch(function(t){e.history.replace("/sanitation-process-templates")}):e.updateData({id:null,name:"",value:"",content:"",lines:[]})},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(l.a,{className:"mgr-sanitation-process-templates"},i.a.createElement(l.f,{title:"Chi ti\u1ebft m\u1eabu quy tr\xecnh v\u1ec7 sinh m\xf4i tr\u01b0\u1eddng",id:"mgr-sanitation-process-templates",allowClose:!1,allowCollapse:!1},i.a.createElement("div",{className:"detail-body"},i.a.createElement("div",null,i.a.createElement(r.a,{width:2,title:"T\xean m\u1eabu : ",value:e.name}),i.a.createElement(r.a,{width:2,title:"M\xe3 m\u1eabu : ",value:e.value}),i.a.createElement(r.a,{width:2,title:"N\u1ed9i dung c\xf4ng vi\u1ec7c : ",value:i.a.createElement("div",null,e.lines&&e.lines.length&&e.lines.map(function(e,t){return i.a.createElement("div",{key:t},"+ "+e.content)}))}))),i.a.createElement("div",{style:{width:"100%",borderTop:"1px solid #e9e9e9",padding:"16px 16px 0px",background:"#fff",textAlign:"right"}},i.a.createElement(s.a,{onClick:function(){e.history.push("/sanitation-process-templates"),e.updateData({id:null,name:"",value:"",content:"",lines:[]})},type:"primary",style:{marginRight:8}},"Quay l\u1ea1i")))))})}}]);
//# sourceMappingURL=40.f777a6e9.chunk.js.map